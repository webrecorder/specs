<?xml version="1.0" encoding="UTF-8"?>
<svg version="1.1" viewBox="0 0 700 432" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:xlink="http://www.w3.org/1999/xlink">
	<title>Chunked WARC Records in an Example DAG</title>
	<defs>
		<marker id="arrowhead" style="overflow:visible" markerHeight="3.5" markerWidth="3" orient="auto-start-reverse" preserveAspectRatio="xMidYMid" viewBox="0 0 5.3244081 6.1553851">
			<path transform="scale(.5)" d="m5.77 0-8.65 5v-10z" style="fill-rule:evenodd;fill:context-stroke;stroke-width:1pt;stroke:context-stroke"/>
		</marker>
		<style><![CDATA[
@import url('https://fonts.googleapis.com/css2?family=Recursive:wght,CRSV,MONO@500,0,0.51&display=swap');
.chunk-outlines {
  fill:none;
  fill-opacity:1;
  stroke:#000;
  stroke-dasharray:none;
  stroke-miterlimit:2;
  stroke-opacity:1;
  stroke-width:6;
}
.text-on-bg {
  display:inline;
  fill:#000;
  fill-opacity:1;
  font-family:"Recursive", monospace;
  font-size:12px;
  font-variation-settings:'CRSV' 0, 'MONO' 0.51, 'wght' 500;
  font-weight:normal;
  white-space:pre;
}
.chunk-whitetext {
  fill:#fff;
  fill-opacity:1;
  font-family:"Recursive", monospace;
  font-size:12px;
  font-variation-settings:'CRSV' 0, 'MONO' 0.51, 'wght' 500;
  font-weight:normal;
  white-space:pre;
}
.dag-text{
  fill:#000;
  fill-opacity:1;
  font-family:"Recursive", monospace;
  font-size:12px;
  font-variation-settings:'CRSV' 0, 'MONO' 0.51, 'wght' 500;
  font-weight:normal;
  text-align:center;
  text-anchor:middle;
  white-space:pre;
}
.arrows {
  fill:none;
  stroke:#000;
  stroke-dasharray:none;
  stroke-miterlimit:2;
  stroke-opacity:1;
  stroke-width:3;
}
]]></style>
	</defs>
	<g transform="translate(-550 -396)">
		<text class="text-on-bg" x="1059.3574" y="747.60907" xml:space="preserve"><tspan x="1059.3574" y="747.60907">A WARC record pair </tspan><tspan x="1059.3574" y="762.57605">with no payload.</tspan></text>
		<text class="text-on-bg" x="1059.3574" y="528.0791" xml:space="preserve"><tspan x="1059.3574" y="528.0791">A WARC record pair </tspan><tspan x="1059.3574" y="543.04608">with a payload.</tspan><tspan x="1059.3574" y="558.01312"/><tspan x="1059.3574" y="572.9801">The payload contents </tspan><tspan x="1059.3574" y="587.94708">(headers not included) are </tspan><tspan x="1059.3574" y="602.91412">written into their own CID </tspan><tspan x="1059.3574" y="617.8811">and can be served by </tspan><tspan x="1059.3574" y="632.84808">anyone with a copy, even </tspan><tspan x="1059.3574" y="647.81512">if they don't have the </tspan><tspan x="1059.3574" y="662.7821">full WARC file.</tspan></text>
		<text class="text-on-bg" x="1056.9144" y="449.36389" xml:space="preserve"><tspan x="1056.9144" y="449.36389"><tspan>A WARC record, </tspan></tspan><tspan x="1056.9144" y="464.3309"><tspan>not part of a pair.</tspan></tspan></text>
		<path d="m953 473v284" style="stroke-dasharray:6;stroke-miterlimit:2;stroke-width:3;stroke:#000"/>
		<g transform="translate(541 311)">
			<g>
				<rect class="chunk-outlines" x="324" y="446" width="176" height="32"/>
				<rect x="324" y="446" width="176" height="32" style="fill:#757c39;"/>
				<text class="chunk-whitetext" x="329.82245" y="465.11169" xml:space="preserve"><tspan>WARC-Type: request</tspan></text>
			</g>
			<g>
				<rect class="chunk-outlines" x="324" y="403" width="176" height="32"/>
				<rect x="324" y="403" width="176" height="32" style="fill:#8e63ce;"/>
				<text class="chunk-whitetext" x="329.82245" y="421.6261" xml:space="preserve"><tspan>WARC-Type: revisit</tspan></text>
			</g>
		</g>
		<g>
			<g transform="translate(289 43.2)">
				<rect class="chunk-outlines" x="577" y="600" width="176" height="32"/>
				<rect x="577" y="600" width="176" height="32" style="fill:#757c39;"/>
				<text class="chunk-whitetext" x="581.88147" y="619.37689" xml:space="preserve"><tspan>WARC-Type: request</tspan></text>
			</g>
			<g transform="translate(289 39.2)">
				<rect class="chunk-outlines" x="577" y="570" width="176" height="20"/>
				<rect x="577" y="570" width="176" height="20" style="fill:#008873;"/>
				<text class="chunk-whitetext" x="581.84546" y="584.99554" xml:space="preserve"><tspan>2Ã— Newlines</tspan></text>
				<rect class="chunk-outlines" x="577" y="503" width="176" height="64"/>
				<rect x="577" y="503" width="176" height="64" style="fill:#008873;"/>
				<text class="chunk-whitetext" x="581.84546" y="523.99487" xml:space="preserve"><tspan x="581.84546" y="523.99487">HTTP payload</tspan><tspan x="581.84546" y="538.99487" style="fill:#003c32"/><tspan x="581.84546" y="553.99487" style="fill:#003c32">index.html</tspan></text>
				<rect class="chunk-outlines" x="577" y="468" width="176" height="32"/>
				<rect x="577" y="468" width="176" height="32" style="fill:#008873;"/>
				<text class="chunk-whitetext" x="581.84546" y="488.99484" xml:space="preserve"><tspan>WARC-Type: response</tspan></text>
			</g>
		</g>
		<g transform="translate(692 35)">
			<rect class="chunk-outlines" x="174" y="403" width="176" height="32"/>
			<rect x="174" y="403" width="176" height="32" style="fill:#2e7cab;"/>
			<text class="chunk-whitetext" x="179.19279" y="421.62576" xml:space="preserve"><tspan>WARC-Type: warcinfo</tspan></text>
		</g>
		<g>
			<path class="arrows" d="m706 751h-24.5v-298h23.7" style="marker-end:url(#arrowhead);marker-start:url(#arrowhead)"/>
			<path class="arrows" d="m792 588 24.9-0.234"/>
			<path class="arrows" d="m839 575h-22.3" style="marker-start:url(#arrowhead);"/>
			<path class="arrows" d="m839 619-22.4 0.118" style="marker-start:url(#arrowhead);"/>
			<path class="arrows" d="m839 660h-22.2v-136h22.2" style="marker-end:url(#arrowhead);marker-start:url(#arrowhead)"/>
			<path class="arrows" d="m839 773h-22.2v-43h22.2" style="marker-end:url(#arrowhead);marker-start:url(#arrowhead)"/>
			<path class="arrows" d="m790 751 26.6-1.8e-4"/>
			<path class="arrows" d="m793 454 46.6-0.234" style="marker-end:url(#arrowhead);"/>
			<path class="arrows" d="m658 588 47.4-0.234" style="marker-end:url(#arrowhead);"/>
		</g>
		<g transform="matrix(0 -1.04 .945 0 560 932)">
			<rect class="chunk-outlines" x="444" y="182" width="30.6" height="61.8" ry="2.73"/>
			<rect x="444" y="182" width="30.6" height="61.5" ry="2.73" style="fill:#d9d9d9;"/>
			<text class="dag-text" transform="matrix(0 1.07 -.936 0 0 0)" x="199.35643" y="-493.87869" xml:space="preserve"><tspan x="199.35643" y="-493.87869"><tspan>Record</tspan></tspan><tspan x="199.35643" y="-478.79556"><tspan>CID</tspan></tspan></text>
		</g>
		<g transform="matrix(0 -1.04 .945 0 560 1008)">
			<rect class="chunk-outlines" x="319" y="181" width="161" height="61.8" ry="2.73"/>
			<rect x="319" y="181" width="161" height="61.4" ry="3.17" style="fill:#d9d9d9;"/>
			<text class="dag-text" transform="matrix(0 1.07 -.936 0 0 0)" x="199.35641" y="-435.71136" xml:space="preserve"><tspan x="199.35641" y="-435.71136"><tspan>Record</tspan></tspan><tspan x="199.35641" y="-420.62823"><tspan>CID</tspan></tspan></text>
		</g>
		<g transform="matrix(0 -1.04 .945 0 560 1138)">
			<rect class="chunk-outlines" x="336" y="182" width="71.8" height="61.8" ry="2.73"/>
			<rect x="336" y="182" width="71.8" height="61.5" ry="2.73" style="fill:#d9d9d9;"/>
			<text class="dag-text" transform="matrix(0 1.07 -.936 0 0 0)" x="199.35641" y="-400.06689" xml:space="preserve"><tspan x="199.35641" y="-400.06689"><tspan>Record</tspan></tspan><tspan x="199.35641" y="-384.98376"><tspan>CID</tspan></tspan></text>
		</g>
		<g transform="matrix(0 -1.04 .945 0 427 932)">
			<rect class="chunk-outlines" x="138" y="182" width="337" height="61.8" ry="3.17"/>
			<rect x="138" y="182" width="337" height="61.5" ry="3.17" style="fill:#d9d9d9;"/>
			<text class="dag-text" transform="matrix(0 1.07 -.936 0 0 0)" x="199.20644" y="-355.35452" xml:space="preserve"><tspan x="199.20644" y="-355.35452"><tspan>WARC</tspan></tspan><tspan x="199.20644" y="-340.27139"><tspan>CID</tspan></tspan></text>
		</g>
	</g>
	<metadata>
		<rdf:RDF>
			<cc:Work rdf:about="">
				<cc:license rdf:resource="http://creativecommons.org/licenses/by/4.0/"/>
				<dc:title>Chunked WARC Records in an Example DAG</dc:title>
				<dc:description>Three WARC objects, a "warcinfo", a "response-request pair", and a "revisit-request pair" all displayed on the same level of a tree hierarchy grouped underneath their respective "Record CID" nodes.  Some of the Record CIDs are composed of multiple WARC record types.  Of these records, the "response" record is composed of three chunks as specified by Webrecorder's IPFS chunking spec.  It is divided by the response header, payload (in this case an HTML file), and two newline characters signifying the end of the response record.  Finally, a revisit record and request record are grouped together into their own CID and both are chunked as seperate files within that CID</dc:description>
			</cc:Work>
			<cc:License rdf:about="http://creativecommons.org/licenses/by/4.0/">
				<cc:permits rdf:resource="http://creativecommons.org/ns#Reproduction"/>
				<cc:permits rdf:resource="http://creativecommons.org/ns#Distribution"/>
				<cc:requires rdf:resource="http://creativecommons.org/ns#Notice"/>
				<cc:requires rdf:resource="http://creativecommons.org/ns#Attribution"/>
				<cc:permits rdf:resource="http://creativecommons.org/ns#DerivativeWorks"/>
			</cc:License>
		</rdf:RDF>
	</metadata>
</svg>
